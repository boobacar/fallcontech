@import "tailwindcss";

@layer base {
  :root {
    --background: 220 20% 98%;
    --foreground: 215 28% 17%;
    --card: 0 0% 100%;
    --card-foreground: 215 28% 17%;
    --popover: 0 0% 100%;
    --popover-foreground: 215 28% 17%;
    --primary: 215 28% 17%;
    --primary-foreground: 0 0% 100%;
    --secondary: 216 18% 88%;
    --secondary-foreground: 215 28% 17%;
    --muted: 216 18% 88%;
    --muted-foreground: 215 20% 45%;
    --accent: 216 18% 88%;
    --accent-foreground: 215 28% 17%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 100%;
    --border: 216 18% 80%;
    --input: 216 18% 80%;
    --ring: 215 28% 17%;
    --radius: 0.5rem;
  }

  .dark {
    --background: 215 28% 17%;
    --foreground: 220 20% 98%;
    --card: 220 20% 10%;
    --card-foreground: 220 20% 98%;
    --popover: 215 28% 17%;
    --popover-foreground: 220 20% 98%;
    --primary: 220 20% 98%;
    --primary-foreground: 215 28% 17%;
    --secondary: 215 20% 25%;
    --secondary-foreground: 220 20% 98%;
    --muted: 215 20% 25%;
    --muted-foreground: 215 20% 65%;
    --accent: 215 20% 25%;
    --accent-foreground: 220 20% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 100%;
    --border: 215 20% 25%;
    --input: 215 20% 25%;
    --ring: 220 20% 98%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
    font-family: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI",
      "Roboto", sans-serif;
  }
}

@layer utilities {
  .gradient-text {
    @apply bg-gradient-to-r from-primary via-blue-500 to-primary bg-clip-text text-transparent;
  }

  .gradient-bg {
    @apply bg-gradient-to-br from-blue-50 via-gray-50 to-background;
  }

  /* Soft animated gradient mesh for hero */
  .mesh-bg {
    position: absolute;
    inset: -10% -10% 0 -10%;
    pointer-events: none;
    filter: blur(60px) saturate(120%);
    opacity: 0.35;
    background: radial-gradient(40% 40% at 20% 10%, rgba(59,130,246,0.6), transparent),
                radial-gradient(35% 35% at 80% 0%, rgba(99,102,241,0.6), transparent),
                radial-gradient(40% 40% at 90% 60%, rgba(14,165,233,0.5), transparent),
                radial-gradient(50% 50% at 10% 80%, rgba(16,185,129,0.5), transparent);
    animation: mesh-move 18s ease-in-out infinite alternate;
  }

  .particles-bg {
    position: absolute;
    inset: 0;
    pointer-events: none;
    background-image: radial-gradient(circle at 10px 10px, rgba(59,130,246,0.15) 2px, transparent 2px);
    background-size: 40px 40px;
    opacity: 0.25;
    animation: particles-shift 40s linear infinite;
  }

  .section-sep {
    position: relative;
  }
  .section-sep::before {
    content: "";
    position: absolute;
    left: 0; right: 0; top: 0;
    height: 1px;
    background: linear-gradient(90deg, transparent, rgba(59,130,246,0.35), transparent);
  }

  .floating-blobs {
    position: absolute;
    inset: 0;
    pointer-events: none;
    overflow: hidden;
  }
  .floating-blobs::before,
  .floating-blobs::after {
    content: "";
    position: absolute;
    width: 280px; height: 280px;
    border-radius: 9999px;
    filter: blur(60px);
    opacity: 0.18;
  }
  .floating-blobs::before {
    background: #60a5fa; /* blue-400 */
    top: 10%; left: -80px;
    animation: blob-float 22s ease-in-out infinite;
  }
  .floating-blobs::after {
    background: #34d399; /* emerald-400 */
    bottom: -40px; right: -80px;
    animation: blob-float 26s ease-in-out infinite reverse;
  }

  .glow-btn {
    position: relative;
    isolation: isolate;
  }
  .glow-btn::before {
    content: "";
    position: absolute; inset: -2px;
    border-radius: inherit;
    background: conic-gradient(from 0deg, #3b82f6, #22d3ee, #34d399, #3b82f6);
    filter: blur(12px);
    opacity: 0.35;
    z-index: -1;
    animation: glow-rotate 8s linear infinite;
  }
  /* Scroll progress bar (CSS scroll-driven where supported) */
  .scroll-progress { background: transparent; }
  .scroll-progress__bar { width: 0%; background: linear-gradient(90deg,#3b82f6,#22d3ee); }
  @supports (animation-timeline: scroll()) or (animation-timeline: scroll(root)) {
    .scroll-progress__bar {
      animation-name: progress-grow;
      animation-timeline: scroll();
    }
    @keyframes progress-grow { from { width: 0% } to { width: 100% } }
  }

  /* Ripple ink */
  [data-ripple] { position: relative; overflow: hidden; }
  .ripple-ink {
    position: absolute; width: 12px; height: 12px; border-radius: 9999px;
    translate: -50% -50%;
    background: radial-gradient(circle, rgba(59,130,246,0.35) 0%, rgba(59,130,246,0.15) 60%, transparent 70%);
    animation: ripple-fade 600ms ease-out forwards;
    pointer-events: none; will-change: transform, opacity;
  }
  @keyframes ripple-fade { from { opacity: 0.7; transform: scale(1) } to { opacity: 0; transform: scale(16) } }

  /* Cursor halo */
  .cursor-halo {
    position: absolute; width: 32px; height: 32px; border-radius: 9999px;
    background: radial-gradient(circle, rgba(59,130,246,0.35), transparent 60%);
    filter: blur(6px); opacity: 0; transition: opacity 150ms ease;
    pointer-events: none; mix-blend-mode: multiply;
  }

  /* Hide cursor halo on touch/coarse pointer devices */
  @media (pointer: coarse) {
    .cursor-halo { display: none !important; }
  }

  /* Displacement filter hover for images */
  .image-displace { transition: filter 250ms ease; }
  .group:hover .image-displace { filter: url('#hoverDisplace'); }

  /* View Transitions named elements */
  .vt-title { view-transition-name: page-title; }
  .vt-hero-shape { view-transition-name: hero-shape; }
  .vt-hero-bg { view-transition-name: hero-bg; }
}

html {
  scroll-behavior: smooth;
}

/* Tailwind v4 animation keyframes + tokens (no plugin needed) */
@keyframes accordion-down { from { height: 0 } to { height: var(--radix-accordion-content-height) } }
@keyframes accordion-up { from { height: var(--radix-accordion-content-height) } to { height: 0 } }
@keyframes fade-in { from { opacity: 0 } to { opacity: 1 } }
@keyframes fade-out { from { opacity: 1 } to { opacity: 0 } }
@keyframes zoom-in { from { transform: scale(0.95) } to { transform: scale(1) } }
@keyframes zoom-out { from { transform: scale(1) } to { transform: scale(0.95) } }

@theme {
  --animate-accordion-down: accordion-down 0.2s ease-out;
  --animate-accordion-up: accordion-up 0.2s ease-out;
  --animate-fade-in: fade-in 150ms ease-out;
  --animate-fade-out: fade-out 150ms ease-in;
  --animate-zoom-in: zoom-in 150ms ease-out;
  --animate-zoom-out: zoom-out 150ms ease-in;

  /* Map semantic colors to CSS vars (hsl) */
  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));
  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));
  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));
  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));
  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));
  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));
  --color-popover: hsl(var(--popover));
  --color-popover-foreground: hsl(var(--popover-foreground));
  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));

  --radius-lg: var(--radius);
  --radius-md: calc(var(--radius) - 2px);
  --radius-sm: calc(var(--radius) - 4px);
}

@keyframes mesh-move {
  0%   { transform: translate3d(0,0,0) scale(1); }
  50%  { transform: translate3d(0,-3%,0) scale(1.05); }
  100% { transform: translate3d(0,2%,0) scale(1.02); }
}

@keyframes particles-shift {
  from { background-position: 0 0; }
  to   { background-position: 2000px 0; }
}

@keyframes blob-float {
  0%, 100% { transform: translateY(0) translateX(0) scale(1); }
  50%      { transform: translateY(-20px) translateX(10px) scale(1.05); }
}

@keyframes glow-rotate {
  to { transform: rotate(360deg); }
}

@media (prefers-reduced-motion: reduce) {
  .mesh-bg,.particles-bg,.floating-blobs::before,.floating-blobs::after { animation: none !important; }
  .glow-btn::before { display: none; }
}
